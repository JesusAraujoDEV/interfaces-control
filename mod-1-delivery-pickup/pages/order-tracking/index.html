<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seguimiento de Pedido — Charlotte</title>

  <!-- Fonts (Oswald + Playfair Display) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700;800&display=swap"
    rel="stylesheet" />

  <link rel="stylesheet" href="/shared/styles/global.css">
  <link rel="stylesheet" href="/landing/styles.css" />
  <link rel="stylesheet" href="/mod-1-delivery-pickup/pages/order-tracking/page.css">
  <script src="/config.js"></script>
  <script>
    // Tailwind CDN lee esta config al cargar.
    // Nota: no usamos `tailwind.config = ...` aquí porque `tailwind` todavía no existe.
    tailwind = {
      config: {
        theme: {
          extend: {
            colors: {
              brand: {
                50: '#f2f7f1',
                700: '#13532a',
                800: '#0f4a22'
              }
            },
            fontFamily: {
              sans: ['Inter', 'ui-sans-serif', 'system-ui']
            }
          }
        }
      }
    }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-brand-50 min-h-screen text-gray-800 font-sans">
  <charlotte-header></charlotte-header>

  <main class="max-w-6xl mx-auto px-6 py-6" style="padding-top: 88px;">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <section class="lg:col-span-2">
        <h1 id="orderTitle" class="text-4xl font-extrabold text-gray-900">Seguimiento de Pedido</h1>
        <p id="orderSubtitle" class="text-sm text-gray-500 mt-2"></p>
        <p id="status" class="text-sm text-gray-600 mt-4"></p>

        <div class="mt-8 panel p-6">
          <h3 class="text-sm font-semibold text-gray-800">Order Status</h3>
          <div class="mt-3">
            <div class="w-full bg-gray-200 h-2 rounded-full overflow-hidden">
              <div id="statusBar" class="h-2 rounded-full bg-brand-800" style="width:15%"></div>
            </div>
            <div id="statusLabel" class="text-sm text-gray-500 mt-2">—</div>
          </div>
        </div>

        <div class="mt-8 panel p-6">
          <h3 class="text-lg font-semibold text-gray-900">Dealles de la orden</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-y-3 gap-x-6 mt-4 text-sm text-gray-600">
            <div class="text-gray-500">Tipo de Servicio</div>
            <div id="serviceType" class="text-left md:text-right">—</div>
            <div class="text-gray-500">Tiempo estimado</div>
            <div id="eta" class="text-left md:text-right">—</div>
            <div class="text-gray-500">Zona</div>
            <div id="zoneName" class="text-left md:text-right">—</div>
            <div class="text-gray-500">Creado</div>
            <div id="createdAt" class="text-left md:text-right">—</div>
          </div>

          <h4 class="mt-6 font-semibold text-gray-800">Cliente</h4>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-y-3 gap-x-6 mt-3 text-sm text-gray-600">
            <div class="text-gray-500">Nombre</div>
            <div id="customerName" class="text-left md:text-right">—</div>
            <div class="text-gray-500">Teléfono</div>
            <div id="customerPhone" class="text-left md:text-right">—</div>
            <div class="text-gray-500">Correo</div>
            <div id="customerEmail" class="text-left md:text-right">—</div>
            <div class="text-gray-500">Dirección</div>
            <div id="deliveryAddress" class="text-left md:text-right">—</div>
          </div>

          <h4 class="mt-6 font-semibold text-gray-800">Ítems de la orden</h4>
          <div id="itemsWrap" class="divide-y divide-gray-100 mt-3"></div>

          <h4 class="mt-6 font-semibold text-gray-800">Detalles de Pago</h4>
          <div class="grid grid-cols-2 gap-y-2 gap-x-6 mt-3 text-sm text-gray-600">
            <div class="text-gray-500">Subtotal</div>
            <div id="subtotal" class="text-left md:text-right">$0.00</div>
            <div class="text-gray-500">Costo de envío</div>
            <div id="shipping" class="text-left md:text-right">$0.00</div>
            <div class="text-gray-500 font-semibold">Total</div>
            <div id="total" class="text-left md:text-right font-semibold">$0.00</div>
          </div>

          <h4 class="mt-6 font-semibold text-gray-800">Historial</h4>
          <div id="logsWrap" class="divide-y divide-gray-100 mt-3"></div>

          <div class="mt-6 flex justify-end">
            <button
              class="inline-flex items-center gap-2 bg-brand-800 text-white px-4 py-2 rounded-md shadow hover:bg-brand-700">Contactar
              Soporte</button>
          </div>
        </div>
      </section>
    </div>
  </main>
  <script type="module" src="/shared/components/charlotte-header.js?v=2.0"></script>
  <script type="module" src="/landing/script.js"></script>
  <script type="module" src="/shared/components/app-header.js"></script>
  <script src="/mod-1-delivery-pickup/pages/order-tracking/page.js"></script>

  <!-- End-state modal (DELIVERED / CANCELLED) -->
  <div id="dpEndStateModal" class="hidden fixed inset-0 z-[80]">
    <div id="dpEndStateBackdrop" class="absolute inset-0 bg-slate-950/60"></div>

    <div class="relative min-h-full flex items-center justify-center p-6">
      <div
        class="w-full max-w-lg rounded-2xl bg-white shadow-[0_24px_60px_rgba(0,0,0,0.25)] border border-slate-200 overflow-hidden">
        <div class="p-6">
          <div class="flex items-start justify-between gap-4">
            <div>
              <h2 id="dpEndStateTitle" class="text-xl font-extrabold text-slate-900">—</h2>
              <p id="dpEndStateSubtitle" class="mt-2 text-sm text-slate-600">—</p>
            </div>
            <button id="dpEndStateClose" type="button"
              class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50"
              aria-label="Cerrar">✕</button>
          </div>

          <div id="dpEndStateBody" class="mt-5 text-sm text-slate-700"></div>
        </div>

        <div class="px-6 pb-6 flex items-center justify-end gap-3">
          <a id="dpReorderBtn" href="/menu"
            class="inline-flex items-center justify-center rounded-xl bg-brand-800 px-4 py-2 text-sm font-semibold text-white hover:bg-brand-700">Volver
            al menú</a>
        </div>
      </div>
    </div>
  </div>
</body>

</html>