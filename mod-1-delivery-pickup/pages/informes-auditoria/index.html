
<!doctype html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>AuditorÃ­a â€” Delivery & Pickup</title>
		<link rel="icon" type="image/x-icon" href="/favicon.ico" />
		<link rel="stylesheet" href="/styles/tailwind.css" />
		<link rel="stylesheet" href="/shared/styles/global.css" />
		<link rel="stylesheet" href="/mod-1-delivery-pickup/pages/informes-auditoria/page.css" />
	</head>
	<body class="antialiased text-slate-900">
		<header class="flex items-start sm:items-center justify-between gap-4">
			<div>
				<h1 class="text-2xl sm:text-3xl font-extrabold">AuditorÃ­a</h1>
				<p class="mt-1 text-sm text-slate-600">Consola de logs operativos.</p>
			</div>
			<div class="flex items-center gap-2">
				<button
					id="dpAuditRefresh"
					type="button"
					class="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-800 hover:bg-slate-50"
				>
					Actualizar
				</button>
				<button
					id="dpAuditExport"
					type="button"
					class="inline-flex items-center justify-center rounded-xl bg-brand-800 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-brand-700"
				>
					Exportar
				</button>
			</div>
		</header>

		<main class="mt-5 grid grid-cols-1 xl:grid-cols-[1fr_420px] gap-4">
			<section class="bg-white border border-slate-200 rounded-2xl shadow-[0_1px_0_rgba(16,24,40,0.03)] p-5 min-w-0">
				<div class="flex flex-col gap-3">
					<div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3">
						<div class="dp-audit-bar">
							<div class="dp-range">
								<span class="dp-range__icon" aria-hidden="true">ðŸ“…</span>
								<input id="dpAuditFrom" type="date" class="dp-range__input" />
								<span class="dp-range__sep" aria-hidden="true">â€”</span>
								<input id="dpAuditTo" type="date" class="dp-range__input" />
							</div>
							<select id="dpAuditLevel" class="dp-filter" aria-label="Nivel">
								<option value="">Nivel (Todos)</option>
								<option value="INFO">INFO</option>
								<option value="WARNING">WARNING</option>
								<option value="ERROR">ERROR</option>
								<option value="CRITICAL">CRITICAL</option>
								<option value="DEBUG">DEBUG</option>
							</select>
							<input id="dpAuditActor" type="text" class="dp-filter" placeholder="Usuario (Ej: Eyleen)" />
							<input id="dpAuditQuery" type="text" class="dp-filter" placeholder="Buscar en logs..." />
						</div>
						<div class="flex items-center justify-between lg:justify-end gap-3">
							<div id="dpAuditMeta" class="text-xs text-slate-500"></div>
						</div>
					</div>

					<div id="dpAuditError" class="hidden rounded-xl border border-rose-200 bg-rose-50 p-3 text-sm text-rose-800"></div>
				</div>

				<div class="mt-4 dp-table-wrap">
					<table class="dp-table">
						<thead>
							<tr>
								<th>Timestamp</th>
								<th>Nivel</th>
								<th>Actor</th>
								<th>AcciÃ³n</th>
								<th>Recurso</th>
							</tr>
						</thead>
						<tbody id="dpAuditTableBody"></tbody>
					</table>
				</div>
			</section>

			<aside class="bg-white border border-slate-200 rounded-2xl shadow-[0_1px_0_rgba(16,24,40,0.03)] p-5 dp-detail" aria-live="polite">
				<div class="flex items-start justify-between gap-3">
					<div>
						<h2 class="text-lg font-extrabold text-slate-900">Detalle</h2>
						<p id="dpAuditDetailHint" class="mt-1 text-sm text-slate-600">Selecciona un evento para inspeccionarlo.</p>
					</div>
					<button id="dpAuditDetailClose" type="button" class="hidden dp-icon-btn" aria-label="Cerrar">âœ•</button>
				</div>

				<div id="dpAuditDetail" class="mt-4 hidden">
					<div class="dp-detail-kv">
						<div class="dp-detail-kv__k">Timestamp</div>
						<div id="dpDetailTimestamp" class="dp-detail-kv__v"></div>
					</div>
					<div class="dp-detail-kv">
						<div class="dp-detail-kv__k">Nivel</div>
						<div id="dpDetailLevel" class="dp-detail-kv__v"></div>
					</div>
					<div class="dp-detail-kv">
						<div class="dp-detail-kv__k">Actor</div>
						<div id="dpDetailActor" class="dp-detail-kv__v"></div>
					</div>
					<div class="dp-detail-kv">
						<div class="dp-detail-kv__k">AcciÃ³n</div>
						<div id="dpDetailAction" class="dp-detail-kv__v dp-mono"></div>
					</div>
					<div class="dp-detail-kv">
						<div class="dp-detail-kv__k">Recurso</div>
						<div id="dpDetailResource" class="dp-detail-kv__v"></div>
					</div>

					<div class="mt-4">
						<h3 class="text-sm font-extrabold text-slate-900">Cambios</h3>
						<div id="dpDetailDiff" class="mt-2 dp-diff"></div>
					</div>

					<div class="mt-4">
						<h3 class="text-sm font-extrabold text-slate-900">Evento (JSON)</h3>
						<pre id="dpDetailJson" class="mt-2 dp-json"></pre>
					</div>
				</div>
			</aside>
		</main>
		<script type="module" src="/mod-1-delivery-pickup/pages/informes-auditoria/page.js"></script>
	</body>
</html>